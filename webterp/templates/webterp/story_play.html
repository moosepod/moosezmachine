{% load staticfiles %}<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Play {{ story.title }}</title>

<link rel="stylesheet" href="{% static "glkote/glkote.css" %}" type="text/css">

<style type="text/css">

body {
  margin: 0px;
  height: 100%;
}

#gameport {
  position: absolute;
  overflow: hidden;
  width: 100%;
  height: 100%;
  background: #CCAA88;
  margin: 0px;
}

</style>

<script src="{% static "glkote/jquery-1.11.2.min.js" %}" type="text/javascript"></script>
<script src="{% static "glkote/glkote.js" %}" type="text/javascript"></script>

<script type="text/javascript">

var generation = 0;
var metrics;

function accept(data) {
  generation = generation+1;
  var arg = { type: 'update', gen: generation };
  if (data['type'] == 'init') {
    metrics = data['metrics'];
    arg['windows'] = [{ id: 1,

                        left: metrics.outspacingx,
                        top: metrics.outspacingy,
                        width: metrics.width-(2*metrics.outspacingx),
                        height: metrics.height-(2*metrics.outspacingy)}];
    arg['content'] = [{id: 1, 
      clear: false,
      text:[{append: true, flowbreak: true, content: [{'style': 'normal','text': 'Hello, world!'}]}]}];
  }
  GlkOte.update(arg);
}

Game = {
  accept: accept,
};

</script>

</head>
<body onLoad="GlkOte.init();">
<div id="gameport">
<div id="windowport">
<noscript><hr>
<p>You'll need to turn on Javascript in your web browser to play this game.</p>
<hr></noscript>
</div>
<div id="loadingpane">
<img src="{% static "glkote/waiting.gif" %}" alt="LOADING"><br>
<em>&nbsp;&nbsp;&nbsp;Loading...</em>
</div>
<div id="errorpane" style="display:none;"><div id="errorcontent">...</div></div>
</div>

</body>
</html>
